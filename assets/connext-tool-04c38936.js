import{a as Q}from"./axios-e7af96b6.js";import{W as Y,C as Z,B as ee,A as oe}from"./index-dc70c641.js";import{a as le,m as ae,d as te,_ as W,r as ne,u as j,c as O,b as $,P as E,e as re}from"./AntdIcon-32fd6c55.js";import{g as se,i as ie,a as ce}from"./index-474b7897.js";import{d as F,v as P,f as g,s as de,z as ue,F as z,g as L,o as h,c as C,a as T,j as v,w as m,k as S,e as ge,m as b,l as B}from"./index-7794b288.js";import{A as pe}from"./TextArea-84d21abc.js";const _=(e,i,a)=>{const l=te(a);return{[`${e.componentCls}-${i}`]:{color:e[`color${a}`],background:e[`color${l}Bg`],borderColor:e[`color${l}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}},he=e=>se(e,(i,a)=>{let{textColor:l,lightBorderColor:n,lightColor:o,darkColor:c}=a;return{[`${e.componentCls}-${i}`]:{color:l,background:o,borderColor:n,"&-inverse":{color:e.colorTextLightSolid,background:c,borderColor:c},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}}),ve=e=>{const{paddingXXS:i,lineWidth:a,tagPaddingHorizontal:l,componentCls:n}=e,o=l-a,c=i-a;return{[n]:W(W({},ne(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:o,fontSize:e.tagFontSize,lineHeight:`${e.tagLineHeight}px`,whiteSpace:"nowrap",background:e.tagDefaultBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",[`&${n}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.tagDefaultColor},[`${n}-close-icon`]:{marginInlineStart:c,color:e.colorTextDescription,fontSize:e.tagIconSize,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${n}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${n}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:o}}),[`${n}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},R=le("Tag",e=>{const{fontSize:i,lineHeight:a,lineWidth:l,fontSizeIcon:n}=e,o=Math.round(i*a),c=e.fontSizeSM,r=o-l*2,s=e.colorFillAlter,d=e.colorText,t=ae(e,{tagFontSize:c,tagLineHeight:r,tagDefaultBg:s,tagDefaultColor:d,tagIconSize:n-2*l,tagPaddingHorizontal:8,tagBorderlessBg:e.colorFillTertiary});return[ve(t),he(t),_(t,"success","Success"),_(t,"processing","Info"),_(t,"error","Error"),_(t,"warning","Warning")]}),be=()=>({prefixCls:String,checked:{type:Boolean,default:void 0},onChange:{type:Function},onClick:{type:Function},"onUpdate:checked":Function}),fe=F({compatConfig:{MODE:3},name:"ACheckableTag",inheritAttrs:!1,props:be(),setup(e,i){let{slots:a,emit:l,attrs:n}=i;const{prefixCls:o}=j("tag",e),[c,r]=R(o),s=t=>{const{checked:u}=e;l("update:checked",!u),l("change",!u),l("click",t)},d=P(()=>O(o.value,r.value,{[`${o.value}-checkable`]:!0,[`${o.value}-checkable-checked`]:e.checked}));return()=>{var t;return c(g("span",$($({},n),{},{class:[d.value,n.class],onClick:s}),[(t=a.default)===null||t===void 0?void 0:t.call(a)]))}}}),A=fe,Ce=()=>({prefixCls:String,color:{type:String},closable:{type:Boolean,default:!1},closeIcon:E.any,visible:{type:Boolean,default:void 0},onClose:{type:Function},onClick:re(),"onUpdate:visible":Function,icon:E.any,bordered:{type:Boolean,default:!0}}),y=F({compatConfig:{MODE:3},name:"ATag",inheritAttrs:!1,props:Ce(),slots:Object,setup(e,i){let{slots:a,emit:l,attrs:n}=i;const{prefixCls:o,direction:c}=j("tag",e),[r,s]=R(o),d=de(!0);ue(()=>{e.visible!==void 0&&(d.value=e.visible)});const t=p=>{p.stopPropagation(),l("update:visible",!1),l("close",p),!p.defaultPrevented&&e.visible===void 0&&(d.value=!1)},u=P(()=>ie(e.color)||ce(e.color)),f=P(()=>O(o.value,s.value,{[`${o.value}-${e.color}`]:u.value,[`${o.value}-has-color`]:e.color&&!u.value,[`${o.value}-hidden`]:!d.value,[`${o.value}-rtl`]:c.value==="rtl",[`${o.value}-borderless`]:!e.bordered})),V=p=>{l("click",p)};return()=>{var p,k,x;const{icon:U=(p=a.icon)===null||p===void 0?void 0:p.call(a),color:w,closeIcon:H=(k=a.closeIcon)===null||k===void 0?void 0:k.call(a),closable:X=!1}=e,q=()=>X?H?g("span",{class:`${o.value}-close-icon`,onClick:t},[H]):g(Z,{class:`${o.value}-close-icon`,onClick:t},null):null,G={backgroundColor:w&&!u.value?w:void 0},D=U||null,N=(x=a.default)===null||x===void 0?void 0:x.call(a),J=D?g(z,null,[D,g("span",null,[N])]):N,K=e.onClick!==void 0,M=g("span",$($({},n),{},{onClick:V,class:[f.value,n.class],style:[G,n.style]}),[J,q()]);return r(K?g(Y,null,{default:()=>[M]}):M)}}});y.CheckableTag=A;y.install=function(e){return e.component(y.name,y),e.component(A.name,A),e};const I=y,me={style:{padding:"20px"}},ye={style:{"margin-top":"10px"}},Se=["href"],Ie=F({__name:"connext-tool",setup(e){const i=L(""),a=[{title:"地址",dataIndex:"address",key:"address"},{title:"女巫",dataIndex:"suspicion_sybil",key:"suspicion_sybil"},{title:"查看地址",dataIndex:"link_url",key:"link_url"}],l=L([]),n=()=>{const o=i.value.split(/[(\r\n)\r\n]+/);console.log(o),l.value=[];const c=async r=>{Q.get(`https://api.github.com/search/issues?q=repo:connext/community-sybil-reports+is:issue+${r}+in:title,body`).then(s=>{if(s.data.items.length===0)l.value.push({address:r,suspicion_sybil:0,link_url:[]});else{let d=[],t=1;for(let u=0;u<s.data.items.length;u++)if(d.push(s.data.items[u].html_url),s.data.items[u].labels.length>0)for(let f=0;f<s.data.items[u].labels.length;f++)t=s.data.items[u].labels[f].id===5900186237?2:1;l.value.push({address:r,suspicion_sybil:t,link_url:d})}console.log("dataSource",l.value)})};for(let r=0;r<o.length;r++)c(o[r])};return(o,c)=>(h(),C("div",me,[T("div",null,[g(v(pe),{value:i.value,"onUpdate:value":c[0]||(c[0]=r=>i.value=r),placeholder:"请输入地址，一行一个",rows:4},null,8,["value"])]),T("div",ye,[g(v(ee),{type:"primary",onClick:n},{default:m(()=>[S(" 查询 ")]),_:1})]),T("div",null,[g(v(oe),{"data-source":l.value,columns:a},{bodyCell:m(({column:r,record:s})=>[r.key==="link_url"?(h(!0),C(z,{key:0},ge(s.link_url,(d,t)=>(h(),C("div",{key:t},[d.indexOf("http")!==-1?(h(),C("a",{key:0,href:d,target:"_blank"},"点击查看",8,Se)):b("",!0)]))),128)):b("",!0),r.key==="suspicion_sybil"?(h(),C(z,{key:1},[s.suspicion_sybil===2?(h(),B(v(I),{key:0,color:"red"},{default:m(()=>[S(" 铁定 ")]),_:1})):b("",!0),s.suspicion_sybil===1?(h(),B(v(I),{key:1,color:"orange"},{default:m(()=>[S(" 疑似 ")]),_:1})):b("",!0),s.suspicion_sybil===0?(h(),B(v(I),{key:2},{default:m(()=>[S(" 无 ")]),_:1})):b("",!0)],64)):b("",!0)]),_:1},8,["data-source"])])]))}});export{Ie as default};
